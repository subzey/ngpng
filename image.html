<!doctype html>
<html>
	<body>
		<script>
			const canvas = document.createElement('canvas');
			canvas.style.imageRendering = 'pixelated';
			document.body.appendChild(canvas);
			const ctx = canvas.getContext('2d');
			
			const image = document.createElement('img');
			image.onload = () => {
				canvas.style.border = 'dashed blue 1px';
				ctx.drawImage(image, 0, 0);
				console.log(ctx.getImageData(0, 0, 300, 1));
			}
			image.onerror = () => {
				canvas.style.border = 'dashed red 1px';
			}
			image.src = 'out.html';
		</script>

	</body>
</html>